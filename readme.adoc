= ovrvnc - VNC Viewer for Oculus Go

WIP.

== Install prebuilt binary

Download link:http://mimosa-pudica.net/tmp/ovrvnc-release.apk[ovrvnc-release.apk] .

----
$ adb install ovrvnc-release.apk
$ vi ovrvnc.toml # configure host, password, etc.  See below.
$ adb push ovrvnc.toml /sdcard/
----

For Xorg users, x0vncserver >= 1.9 bundled in TigerVNC with following arguments
is recommended.
----
x0vncserver --comparefb=1 --maxprocessorusage=100
----

== Configuration

Minimal example of `/sdcard/ovrvnc.toml`:
----
[[screens]]
host = "hogehoge"
----

More complex example:
----
#color_bg = [0.0, 0.0, 0.0]

[[screens]]
host = "192.168.179.5"
#port = 5900
#password = ""
latitude  = -15.0
#longitude = 0.0
#lossy = true

[[screens]]
host = "192.168.179.4"
#port = 5900
password = "hogehoge"
latitude  = -15.0
longitude = 180.0
#lossy = true
#color_bg = [0.0, 0.0, 0.0]
----

== Build

XXX

Apply a patch to Oculus mobile SDK:
----
--- VrAppFramework/Src/GlTexture.cpp
+++ VrAppFramework/Src/GlTexture.cpp
@@ -27,6 +27,7 @@
 #include "OVR_PerfTimer.h"

 #include <algorithm>
+#include <cmath>

 #if defined( OVR_OS_ANDROID )
 #define GL_COMPRESSED_RGBA_ASTC_4x4_KHR   0x93B0
--- VrApp.gradle
+++ VrApp.gradle
@@ -316,7 +316,7 @@
     @TaskAction
     genDebugKeystore() {
         if ( !project.file("android.debug.keystore").exists() ) {
-            def pythonCmd = 'python'
+            def pythonCmd = 'python2'
             if (Os.isFamily(Os.FAMILY_WINDOWS)) {
                 pythonCmd = "${project.rootProject.projectDir}/bin/scripts/build/ovrbuild_keystore.py.bat"
                 project.exec {
@@ -355,7 +355,7 @@
                 buildType
             }
         } else {
-            def pythonCmd = 'python'
+            def pythonCmd = 'python2'
             project.exec {
                 commandLine pythonCmd,
                 "${project.rootProject.projectDir}/bin/scripts/build/ovrbuild_sdklibs.py",
----

Build:
----
export     ANDROID_HOME=...
export ANDROID_NDK_HOME=...
export  OCULUS_SDK_PATH=...

cd thirdparty/libjpeg-turbo
./build.sh
cd ../..
make
----
